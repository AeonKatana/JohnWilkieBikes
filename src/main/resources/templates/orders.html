<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet"
	href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
	integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
	crossorigin="anonymous">
<link rel="stylesheet" th:href="@{/css/simplePagination.css}">
<title>JW | My Orders</title>

<style>
a {
	text-decoration: none;
}

a:hover {
	text-decoration: none;
}

.tabs {
	overflow-x: auto;
}
</style>

</head>

<body>
	<div class="card m-0">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<a class="navbar-brand" th:href="@{/}"><img
				src="https://ik.imagekit.io/aeonkatana/logo2_HGKTtB_eC.png?ik-sdk-version=javascript-1.4.3&updatedAt=1644313806003"
				alt="" width="100px"></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse"
				data-target="#navbarTogglerDemo01"
				aria-controls="navbarTogglerDemo01" aria-expanded="false"
				aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse text-center"
				id="navbarTogglerDemo01">
				<form action="" class="form-inline my-2 my-lg-0">
					<input type="text" name="" id="" class="form-control mr-sm-2"
						style="width: 400px;" placeholder="Search">
					<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
				</form>

				<ul class="navbar-nav ml-auto mt-2 mt-lg-0">
					<li class="nav-item dropdown mr-5"><a
						class="nav-link dropdown-toggle" href="#"
						id="navbarDropdownMenuLink" role="button" data-toggle="dropdown"
						aria-haspopup="true" aria-expanded="false"> Categories </a>
						<div class="dropdown-menu text-center"
							aria-labelledby="navbarDropdownMenuLink"
							>
							<th:block th:each="categ : ${categories}">
								<a class="dropdown-item"
									th:href="@{/category/{categs}(categs=${categ.categoryname})}"
									th:text="${categ.categoryname}">Category 1</a>
							</th:block>
						</div></li>
					<li class="nav-item mr-5"><a class="nav-link"
						th:href="@{/mycart}"> Cart <span class="sr-only">(current)</span></a>
					</li>
					<li class="nav-item mr-5"><a class="nav-link"
						th:href="@{/orders/mydelivery}" tabindex="-1" aria-disabled="true">Purchases</a></li>
					<li class="nav-item mr-5"><a class="nav-link" href="#">My
							Profile</a></li>



				</ul>

			</div>

		</nav>
	</div>

	<div class="container p-2 my-2" style="height: auto;">
		<h4 class="m-2 text-center">My Purchases</h4>
		<div class=" mx-2 mt-4 d-flex justify-content-center">
			<a th:href="@{/orders/mydelivery}" class="border w-100 p-2" id="orderbtn">
				<h5 class="text-center">Orders</h5>
			</a> <a th:href="@{/orders/mypickup}" class="border w-100 p-2" id="reservebtn">
				<h5 class="text-center">Reservations</h5>
			</a> <a th:href="@{/orders/mycompleted}" class="border w-100 p-2" id="completebtn">
				<h5 class="text-center">Completed</h5>
			</a> <a href="#" class="border w-100 p-2" id="cancelledbtn">
				<h5 class="text-center">Cancelled</h5>
			</a>
		</div>

		<div class="border mx-2 p-2 text-center" style="height: auto;">

			<div id="orderbox" th:if="${totalpage != 0}">
				<table class="table table-stripe rounded shadow-sm  table-hover"
					id="mytable">
					<thead class="thead-dark">
						<tr>

							<th scope="col">Image</th>
							<th scope="col">Product Name</th>
							<th scope="col">Variation</th>
							<th scope="col">Price</th>
							<th scope="col">Date</th>
							<th scope="col">Action</th>

						</tr>
					</thead>
					<tbody>
						<tr th:each="order : ${orders}">
							<td th:text="${order.bikeprod.prodimgurl}"></td>
							<td th:text="${order.bikeprod.prodname}"></td>
							<td th:text="${order.variation}"></td>
							<td th:text="${order.price}" class="price"></td>
							<td th:text="${order.datetime}"></td>
							<td><button class="btn btn-danger">Cancel</button></td>
						</tr>
					</tbody>
				</table>
				<div class="text-left" >
					<nav aria-label="Page navigation example" class="mypage">
						<ul class="pagination justify-content-left my-5" th:if="${totalpage > 1}" id="normal">

						</ul>
						<ul th:unless="${totalpage > 1}">
						
						</ul>
					</nav>
				</div>
			</div>
			<div class="my-3 " th:unless="${totalpage != 0}">
				<div class="card m-2 " style="min-width: 50%;">
					<div class="card-body mt-5">
							<i class="fa-solid fa-face-frown fa-2x text-secondary"></i>
								<h4 class="card-title mt-3 text-secondary" th:text="${what}">No completed orders yet</h4>
					</div>
				</div>
			</div>
		</div>

	</div>







	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script
		src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
	<script src="https://kit.fontawesome.com/5586b4d731.js"
		crossorigin="anonymous"></script>
	<script th:src="@{/js/jquery-3.6.0.min.js}"></script>
	<script th:src="@{/js/jquery.simplePagination.js}"></script>
	<script th:src="@{/js/orders.js}"></script>

	


</body>
<script th:inline="javascript">
$(document).ready(function(){
	const text = /*[[${url}]]*/ "";
	
	 $("#normal").pagination({
		pages : "[[${totalpage}]]",
		currentPage : "[[${currentPage}]]",
		selectOnClick : false, 
		hrefTextPrefix : text,
        cssStyle: 'light-theme'
   });
	
});

</script>



</html>